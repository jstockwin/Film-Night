function shuffle(r){"use strict";for(var e=[],n=[],t=0;t<r.length;t++)e.push(t);for(t=0;t<r.length;t++){var o=e.splice(Math.floor(Math.random()*e.length),1);n.push(r[o])}return n}function generateRandomVotes(r,e){"use strict";for(var n=[],t=0;t<r.length;t++)n.push(t+1);var o=[];for(t=0;e>t;t++){var s={};n=shuffle(n);for(var a=0;a<r.length;a++)s[r[a]]=n[a];o.push(s)}return o}function generateListOfCandidates(r){for(var e=[],n=0;n<r.length;n++)for(var t=Object.keys(r[n]),o=0;o<t.length;o++)-1===e.indexOf(t[o])&&e.push(t[o]);return e}function getDistances(r,e){"use strict";for(var n=[],t=0;t<r.length;t++){for(var o=[],s=0;s<r.length;s++){for(var a=0,i=0;i<e.length;i++)e[i][r[t]]<e[i][r[s]]&&a++;o.push(a)}n.push(o)}return n}function schulze(r,e){"use strict";for(var n,t=getDistances(r,e),o=[],s=0;s<r.length;s++){var a=[];for(n=0;n<r.length;n++)a.push(t[s][n]>t[n][s]?t[s][n]:0);o.push(a)}for(s=0;s<r.length;s++)for(n=0;n<r.length;n++)if(s!==n)for(var i=0;i<r.length;i++)i!==s&&i!==n&&(o[n][i]=Math.max(o[n][i],Math.min(o[n][s],o[s][i])));var f=function(r,e){return o[r][e]>o[e][r]?-1:o[e][r]>o[r][e]?1:0},l=[];for(s=0;s<r.length;s++)l.push(s);l.sort(f);var c=l.map(function(e){return{film:r[e],index:e}});for(c[0].rank=1,s=1;s<r.length;s++)c[s].rank=o[c[s].index][c[s-1].index]===o[c[s-1].index][c[s].index]?c[s-1].rank:s+1;return c}function copeland(r,e){"use strict";for(var n=getDistances(r,e),t=[],o=0;o<r.length;o++){for(var s=0,a=0;a<r.length;a++)o!==a&&(n[o][a]>n[a][o]?s++:n[o][a]<n[a][o]&&s--);t.push({film:r[o],score:s,rank:o})}for(t.sort(function(r,e){return e.score-r.score}),t[0].rank=1,o=1;o<r.length;o++)t[o].rank=t[o].score===t[o-1].score?t[o-1].rank:o+1;return t}function minimax(r,e){"use strict";for(var n=getDistances(r,e),t=[],o=0;o<r.length;o++){for(var s=0,a=0;a<r.length;a++)n[a][o]>n[o][a]&&n[a][o]>s&&(s=n[a][o]);t.push({film:r[o],score:s,rank:o})}for(t.sort(function(r,e){return r.score-e.score}),t[0].rank=1,o=1;o<r.length;o++)t[o].rank=t[o].score===t[o-1].score?t[o-1].rank:o+1;return t}function permutator(r){"use strict";function e(r,t){for(var o=0;o<r.length;o++){var s=r.splice(o,1);0===r.length&&n.push(t.concat(s)),e(r.slice(),t.concat(s)),r.splice(o,0,s[0])}return n}var n=[];return e(r,[])}function kemenyYoung(r,e){"use strict";for(var n=getDistances(r,e),t=-1,o=!0,s=[],a=[],i=0;i<r.length;i++)a.push(i);var f=permutator(a);for(i=0;i<f.length;i++){for(var l=0,c=0;c<r.length-1;c++)for(var u=c+1;u<r.length;u++)l+=n[f[i][c]][f[i][u]];l===t&&(o=!1),l>t&&(t=l,s=f[i],o=!0)}if(!o)throw"Draw for the higest score";var h=s.map(function(e,n){return{film:r[e],rank:n+1}});return h}function borda(r,e,n){"use strict";(null===n||void 0===n)&&(n=r.length);for(var t=[],o=0;o<r.length;o++)t.push({film:r[o],score:0,rank:o});for(var s=0;s<r.length;s++)for(var a=0;a<e.length;a++)void 0!==e[a][t[s].film]&&null!==e[a][t[s].film]&&(t[s].score=t[s].score-e[a][t[s].film]+n+1);for(t.sort(function(r,e){return e.score-r.score}),t[0].rank=1,s=1;s<r.length;s++)t[s].rank=t[s].score===t[s-1].score?t[s-1].rank:s+1;return t}function antiPlurality(r,e){"use strict";for(var n=[],t=0;t<r.length;t++){for(var o={film:r[t],score:0,rank:t},s=0;s<e.length;s++){var a=Object.keys(e[s]).reduce(function(r,n){return e[s][n]>r?e[s][n]:r},-1/0);e[s][r[t]]===a&&o.score--}n.push(o)}for(n.sort(function(r,e){return e.score-r.score}),n[0].rank=1,t=1;t<r.length;t++)n[t].rank=n[t].score===n[t-1].score?n[t-1].rank:t+1;return n}function plurality(r,e){"use strict";for(var n=[],t=0;t<r.length;t++){for(var o={film:r[t],score:0,rank:t},s=0;s<e.length;s++)1===e[s][r[t]]&&o.score++;n.push(o)}for(n.sort(function(r,e){return e.score-r.score}),n[0].rank=1,t=1;t<r.length;t++)n[t].rank=n[t].score===n[t-1].score?n[t-1].rank:t+1;return n}function removeCandidate(r,e,n){"use strict";r.splice(r.indexOf(n),1);for(var t=0;t<e.length;t++){var o=e[t][n];e[t][n]=0/0;for(var s=0;s<r.length;s++)e[t][r[s]]>o&&e[t][r[s]]--}}function av(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){var s=plurality(n,t);if(s[0].score>e.length/2)return o=o.concat(s.reverse()),o.reverse();for(var a=s[s.length-1].score,i=s.length-1;i>-1&&s[i].score===a;i--)removeCandidate(n,t,s[i].film),o.push(s[i])}return o.reverse()}function avChanges(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){var s=plurality(n,t);if(s[0].score>e.length/2)return o;for(var a=s[s.length-1].score,i=[],f=0;f<e.length;f++)for(var l=0;l<s.length;l++)1===t[f][s[l].film]&&i.push(s[l].film);for(f=s.length-1;f>-1&&s[f].score===a;f--)removeCandidate(n,t,s[f].film);var c={};for(f=0;f<i.length;f++)for(var l=0;l<n.length;l++)1===t[f][n[l]]&&(c[i[f]]||(c[i[f]]={}),c[i[f]][n[l]]?c[i[f]][n[l]]++:c[i[f]][n[l]]=1);o.push(c)}return o}function coombs(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){var s=antiPlurality(n,t),a=plurality(n,t);if(a[0].score>e.length/2)return o=o.concat(a.reverse()),o.reverse();for(var i=s[s.length-1].score,f=s.length-1;f>-1&&s[f].score===i;f--)removeCandidate(n,t,s[f].film),o.push(s[f])}return o.reverse()}function baldwin(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;)for(var s=borda(n,t,r.length),a=s[s.length-1].score,i=s.length-1;i>-1&&s[i].score===a;i--)removeCandidate(n,t,s[i].film),o.push(s[i]);return o.reverse(),o}function baldwinChanges(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){for(var s={},a=borda(n,t,r.length),i=a[a.length-1].score,f=[],l=a.length-1;l>-1;l--)a[l].score===i?(f.push(a[l].film),removeCandidate(n,t,a[l].film)):(s[a[l].film]={},s[a[l].film][a[l].film]=a[l].score);if(0===n.length)return o;for(l=0;l<e.length;l++)for(var c=0;c<f.length;c++)for(var u=0;u<n.length;u++)e[l][n[u]]>e[l][f[c]]&&(s[f[c]]||(s[f[c]]={}),s[f[c]][n[u]]?s[f[c]][n[u]]++:s[f[c]][n[u]]=1);o.push(s)}return o}function nanson(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){for(var s=borda(n,t,r.length),a=0,i=0;i<s.length;i++)a+=s[i].score/s.length;for(i=s.length-1;i>-1&&s[i].score<=a;i--)removeCandidate(n,t,s[i].film),o.push(s[i])}return o.reverse()}function nansonChanges(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){for(var s={},a=borda(n,t,r.length),i=0,f=0;f<a.length;f++)i+=a[f].score/a.length;var l=[];for(f=a.length-1;f>-1;f--)a[f].score<=i?(l.push(a[f].film),removeCandidate(n,t,a[f].film)):(s[a[f].film]={},s[a[f].film][a[f].film]=a[f].score);if(0===n.length)return o;for(f=0;f<e.length;f++)for(var c=0;c<l.length;c++)for(var u=0;u<n.length;u++)e[f][n[u]]>e[f][l[c]]&&(s[l[c]]||(s[l[c]]={}),s[l[c]][n[u]]?s[l[c]][n[u]]++:s[l[c]][n[u]]=1);o.push(s)}return o}