function generateRandomVotes(r,e){for(var n=[],t=0;t<r.length;t++)n.push(t+1);var o=[];for(t=0;e>t;t++){var a={};shuffle(n);for(var f=0;f<r.length;f++)a[r[f]]=n[f];o.push(a)}return o}function shuffle(r){for(var e,n,t=r.length;0!==t;)n=Math.floor(Math.random()*t),t-=1,e=r[t],r[t]=r[n],r[n]=e;return r}function getDistances(r,e){for(var n=[],t=0;t<r.length;t++){for(var o=[],a=0;a<r.length;a++){for(var f=0,s=0;s<e.length;s++)e[s][r[t]]<e[s][r[a]]&&f++;o.push(f)}n.push(o)}return n}function schulze(r,e){for(var n=getDistances(r,e),t=[],o=0;o<r.length;o++){for(var a=[],f=0;f<r.length;f++)a.push(n[o][f]>n[f][o]?n[o][f]:0);t.push(a)}for(o=0;o<r.length;o++)for(f=0;f<r.length;f++)if(o!==f)for(var s=0;s<r.length;s++)s!==o&&s!==f&&(t[f][s]=Math.max(t[f][s],Math.min(t[f][o],t[o][s])));var c=function(r,e){return t[r][e]>t[e][r]?-1:t[e][r]>t[r][e]?1:0},l=[];for(o=0;o<r.length;o++)l.push(o);l.sort(c);var h=l.map(function(e){return{film:r[e],index:e}});for(h[0].rank=1,o=1;o<r.length;o++)h[o].rank=t[h[o].index][h[o-1].index]===t[h[o-1].index][h[o].index]?h[o-1].rank:o+1;return h}function copeland(r,e){for(var n=getDistances(r,e),t=[],o=0;o<r.length;o++){for(var a=0,f=0;f<r.length;f++)o!==f&&(n[o][f]>n[f][o]?a++:n[o][f]<n[f][o]&&a--);t.push({film:r[o],score:a,rank:o})}for(t.sort(function(r,e){return e.score-r.score}),t[0].rank=1,o=1;o<r.length;o++)t[o].rank=t[o].score===t[o-1].score?t[o-1].rank:o+1;return t}function minimax(r,e){for(var n=getDistances(r,e),t=[],o=0;o<r.length;o++){for(var a=0,f=0;f<r.length;f++)n[f][o]>n[o][f]&&n[f][o]>a&&(a=n[f][o]);t.push({film:r[o],score:a,rank:o})}for(t.sort(function(r,e){return r.score-e.score}),t[0].rank=1,o=1;o<r.length;o++)t[o].rank=t[o].score===t[o-1].score?t[o-1].rank:o+1;return t}function borda(r,e){for(var n=[],t=0;t<r.length;t++)n.push({film:r[t],score:0,rank:t});for(var o=0;o<r.length;o++)for(var a=0;a<e.length;a++)n[o].score=n[o].score-e[a][n[o].film]+1+r.length;for(n.sort(function(r,e){return e.score-r.score}),n[0].rank=1,o=1;o<r.length;o++)n[o].rank=n[o].score===n[o-1].score?n[o-1].rank:o+1;return n}function kemenyYoung(r,e){for(var n=getDistances(r,e),t=-1,o=!0,a=[],f=[],s=0;s<r.length;s++)f.push(s);var c=permutator(f);for(s=0;s<c.length;s++){for(var l=0,h=0;h<r.length-1;h++)for(var i=h+1;i<r.length;i++)l+=n[c[s][h]][c[s][i]];l===t&&(o=!1),l>t&&(t=l,a=c[s],o=!0)}if(!o)throw"Draw for the higest score";var u=a.map(function(e,n){return{film:r[e],rank:n+1}});return u}function permutator(r){function e(r,t){for(var o,t=t||[],a=0;a<r.length;a++)o=r.splice(a,1),0===r.length&&n.push(t.concat(o)),e(r.slice(),t.concat(o)),r.splice(a,0,o[0]);return n}var n=[];return e(r)}function baldwin(r,e){for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;)for(var a=borda(n,t),f=a[a.length-1].score,s=a.length-1;s>-1&&a[s].score===f;s--)removeCandidate(n,t,a[s].film),o.push(a[s]);return o.reverse(),o}function removeCandidate(r,e,n){r.splice(r.indexOf(n),1);for(var t=0;t<e.length;t++)for(var o=e[t][n],a=0;a<r.length;a++)e[t][r[a]]>o&&e[t][r[a]]--}function nanson(r,e){for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){for(var a=borda(n,t),f=0,s=0;s<a.length;s++)f+=a[s].score/a.length;for(s=a.length-1;s>-1&&a[s].score<=f;s--)removeCandidate(n,t,a[s].film),o.push(a[s])}return o.reverse()}function av(r,e){for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){var a=plurality(n,t);if(a[0].score>e.length/2)return o=o.concat(a.reverse()),o.reverse();for(var f=a[a.length-1].score,s=a.length-1;s>0&&a[s].score===f;s--)removeCandidate(n,t,a[s].film),o.push(a[s])}return o.reverse()}function plurality(r,e){for(var n=[],t=0;t<r.length;t++){for(var o={film:r[t],score:0,rank:t},a=0;a<e.length;a++)1===e[a][r[t]]&&o.score++;n.push(o)}for(n.sort(function(r,e){return e.score-r.score}),n[0].rank=1,t=1;t<r.length;t++)n[t].rank=n[t].score===n[t-1].score?n[t-1].rank:t+1;return n}