function generateRandomVotes(r,n){for(var e=[],t=0;t<r.length;t++)e.push(t+1);var o=[];for(t=0;n>t;t++){var a={};shuffle(e);for(var f=0;f<r.length;f++)a[r[f]]=e[f];o.push(a)}return o}function shuffle(r){for(var n,e,t=r.length;0!==t;)e=Math.floor(Math.random()*t),t-=1,n=r[t],r[t]=r[e],r[e]=n;return r}function getDistances(r,n){for(var e=[],t=0;t<r.length;t++){for(var o=[],a=0;a<r.length;a++){for(var f=0,s=0;s<n.length;s++)n[s][r[t]]<n[s][r[a]]&&f++;o.push(f)}e.push(o)}return e}function schulze(r,n){for(var e=getDistances(r,n),t=[],o=0;o<r.length;o++){for(var a=[],f=0;f<r.length;f++)a.push(e[o][f]>e[f][o]?e[o][f]:0);t.push(a)}for(o=0;o<r.length;o++)for(f=0;f<r.length;f++)if(o!==f)for(var s=0;s<r.length;s++)s!==o&&s!==f&&(t[f][s]=Math.max(t[f][s],Math.min(t[f][o],t[o][s])));var c=function(r,n){return t[r][n]>t[n][r]?-1:t[n][r]>t[r][n]?1:0},h=[];for(o=0;o<r.length;o++)h.push(o);h.sort(c);var l=h.map(function(n){return{film:r[n],index:n}});for(l[0].rank=1,o=1;o<r.length;o++)l[o].rank=t[l[o].index][l[o-1].index]===t[l[o-1].index][l[o].index]?l[o-1].rank:o+1;return l}function copeland(r,n){for(var e=getDistances(r,n),t=[],o=0;o<r.length;o++){for(var a=0,f=0;f<r.length;f++)o!==f&&(e[o][f]>e[f][o]?a++:e[o][f]<e[f][o]&&a--);t.push({film:r[o],score:a,rank:o})}for(t.sort(function(r,n){return n.score-r.score}),t[0].rank=1,o=1;o<r.length;o++)t[o].rank=t[o].score===t[o-1].score?t[o-1].rank:o+1;return t}function minimax(r,n){for(var e=getDistances(r,n),t=[],o=0;o<r.length;o++){for(var a=0,f=0;f<r.length;f++)e[f][o]>e[o][f]&&e[f][o]>a&&(a=e[f][o]);t.push({film:r[o],score:a,rank:o})}for(t.sort(function(r,n){return r.score-n.score}),t[0].rank=1,o=1;o<r.length;o++)t[o].rank=t[o].score===t[o-1].score?t[o-1].rank:o+1;return t}function borda(r,n){for(var e=[],t=0;t<r.length;t++)e.push({film:r[t],score:0,rank:t});for(var o=0;o<r.length;o++)for(var a=0;a<n.length;a++)e[o].score=e[o].score-n[a][e[o].film]+1+r.length;for(e.sort(function(r,n){return n.score-r.score}),e[0].rank=1,o=1;o<r.length;o++)e[o].rank=e[o].score===e[o-1].score?e[o-1].rank:o+1;return e}function kemenyYoung(r,n){for(var e=getDistances(r,n),t=-1,o=!0,a=[],f=[],s=0;s<r.length;s++)f.push(s);var c=permutator(f);for(s=0;s<c.length;s++){for(var h=0,l=0;l<r.length-1;l++)for(var u=l+1;u<r.length;u++)h+=e[c[s][l]][c[s][u]];h===t&&(o=!1),h>t&&(t=h,a=c[s],o=!0)}if(!o)throw"Draw for the higest score";var i=a.map(function(n,e){return{film:r[n],rank:e+1}});return i}function permutator(r){function n(r,t){for(var o,t=t||[],a=0;a<r.length;a++)o=r.splice(a,1),0===r.length&&e.push(t.concat(o)),n(r.slice(),t.concat(o)),r.splice(a,0,o[0]);return e}var e=[];return n(r)}function baldwin(r,n){for(var e=r.slice(),t=JSON.parse(JSON.stringify(n)),o=[];e.length>0;)for(var a=borda(e,t),f=a[a.length-1].score,s=a.length-1;s>-1&&a[s].score===f;s--)removeCandidate(e,t,a[s].film),o.push(a[s]);return o.reverse(),o}function removeCandidate(r,n,e){r.splice(r.indexOf(e),1);for(var t=0;t<n.length;t++)for(var o=n[t][e],a=0;a<r.length;a++)n[t][r[a]]>o&&n[t][r[a]]--}function av(r,n){for(var e=r.slice(),t=JSON.parse(JSON.stringify(n)),o=[];e.length>0;){var a=plurality(e,t);if(a[0].score>n.length/2)return o=o.concat(a.reverse()),o.reverse();for(var f=a[a.length-1].score,s=a.length-1;s>0&&a[s].score===f;s--)removeCandidate(e,t,a[s].film),o.push(a[s])}return o.reverse()}function plurality(r,n){for(var e=[],t=0;t<r.length;t++){for(var o={film:r[t],score:0,rank:t},a=0;a<n.length;a++)1===n[a][r[t]]&&o.score++;e.push(o)}for(e.sort(function(r,n){return n.score-r.score}),e[0].rank=1,t=1;t<r.length;t++)e[t].rank=e[t].score===e[t-1].score?e[t-1].rank:t+1;return e}