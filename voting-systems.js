function shuffle(r){"use strict";for(var e=[],n=[],t=0;t<r.length;t++)e.push(t);for(t=0;t<r.length;t++){var o=e.splice(Math.floor(Math.random()*e.length),1);n.push(r[o])}return n}function generateRandomVotes(r,e){"use strict";for(var n=[],t=0;t<r.length;t++)n.push(t+1);var o=[];for(t=0;e>t;t++){var s={};n=shuffle(n);for(var a=0;a<r.length;a++)s[r[a]]=n[a];o.push(s)}return o}function generateListOfCandidates(r){for(var e=[],n=0;n<r.length;n++)for(var t=Object.keys(r[n]),o=0;o<t.length;o++)-1===e.indexOf(t[o])&&e.push(t[o]);return e}function getDistances(r,e){"use strict";for(var n=[],t=0;t<r.length;t++){for(var o=[],s=0;s<r.length;s++){for(var a=0,l=0;l<e.length;l++)e[l][r[t]]<e[l][r[s]]&&a++;o.push(a)}n.push(o)}return n}function schulze(r,e){"use strict";for(var n,t=getDistances(r,e),o=[],s=0;s<r.length;s++){var a=[];for(n=0;n<r.length;n++)a.push(t[s][n]>t[n][s]?t[s][n]:0);o.push(a)}for(s=0;s<r.length;s++)for(n=0;n<r.length;n++)if(s!==n)for(var l=0;l<r.length;l++)l!==s&&l!==n&&(o[n][l]=Math.max(o[n][l],Math.min(o[n][s],o[s][l])));var i=function(r,e){return o[r][e]>o[e][r]?-1:o[e][r]>o[r][e]?1:0},f=[];for(s=0;s<r.length;s++)f.push(s);f.sort(i);var c=f.map(function(e){return{film:r[e],index:e}});for(c[0].rank=1,s=1;s<r.length;s++)c[s].rank=o[c[s].index][c[s-1].index]===o[c[s-1].index][c[s].index]?c[s-1].rank:s+1;return c}function copeland(r,e){"use strict";for(var n=getDistances(r,e),t=[],o=0;o<r.length;o++){for(var s=0,a=0;a<r.length;a++)o!==a&&(n[o][a]>n[a][o]?s++:n[o][a]<n[a][o]&&s--);t.push({film:r[o],score:s,rank:o})}for(t.sort(function(r,e){return e.score-r.score}),t[0].rank=1,o=1;o<r.length;o++)t[o].rank=t[o].score===t[o-1].score?t[o-1].rank:o+1;return t}function minimax(r,e){"use strict";for(var n=getDistances(r,e),t=[],o=0;o<r.length;o++){for(var s=0,a=0;a<r.length;a++)n[a][o]>n[o][a]&&n[a][o]>s&&(s=n[a][o]);t.push({film:r[o],score:s,rank:o})}for(t.sort(function(r,e){return r.score-e.score}),t[0].rank=1,o=1;o<r.length;o++)t[o].rank=t[o].score===t[o-1].score?t[o-1].rank:o+1;return t}function permutator(r){"use strict";function e(r,t){for(var o=0;o<r.length;o++){var s=r.splice(o,1);0===r.length&&n.push(t.concat(s)),e(r.slice(),t.concat(s)),r.splice(o,0,s[0])}return n}var n=[];return e(r,[])}function kemenyYoung(r,e){"use strict";for(var n=getDistances(r,e),t=-1,o=!0,s=[],a=[],l=0;l<r.length;l++)a.push(l);var i=permutator(a);for(l=0;l<i.length;l++){for(var f=0,c=0;c<r.length-1;c++)for(var h=c+1;h<r.length;h++)f+=n[i[l][c]][i[l][h]];f===t&&(o=!1),f>t&&(t=f,s=i[l],o=!0)}if(!o)throw"Draw for the higest score";var u=s.map(function(e,n){return{film:r[e],rank:n+1}});return u}function borda(r,e,n){"use strict";(null===n||void 0===n)&&(n=r.length);for(var t=[],o=0;o<r.length;o++)t.push({film:r[o],score:0,rank:o});for(var s=0;s<r.length;s++)for(var a=0;a<e.length;a++)void 0!==e[a][t[s].film]&&null!==e[a][t[s].film]&&(t[s].score=t[s].score-e[a][t[s].film]+n+1);for(t.sort(function(r,e){return e.score-r.score}),t[0].rank=1,s=1;s<r.length;s++)t[s].rank=t[s].score===t[s-1].score?t[s-1].rank:s+1;return t}function antiPlurality(r,e){"use strict";for(var n=[],t=0;t<r.length;t++){for(var o={film:r[t],score:0,rank:t},s=0;s<e.length;s++)e[s][r[t]]===r.length&&o.score--;n.push(o)}for(n.sort(function(r,e){return e.score-r.score}),n[0].rank=1,t=1;t<r.length;t++)n[t].rank=n[t].score===n[t-1].score?n[t-1].rank:t+1;return n}function plurality(r,e){"use strict";for(var n=[],t=0;t<r.length;t++){for(var o={film:r[t],score:0,rank:t},s=0;s<e.length;s++)1===e[s][r[t]]&&o.score++;n.push(o)}for(n.sort(function(r,e){return e.score-r.score}),n[0].rank=1,t=1;t<r.length;t++)n[t].rank=n[t].score===n[t-1].score?n[t-1].rank:t+1;return n}function removeCandidate(r,e,n){"use strict";r.splice(r.indexOf(n),1);for(var t=0;t<e.length;t++){var o=e[t][n];e[t][n]=0/0;for(var s=0;s<r.length;s++)e[t][r[s]]>o&&e[t][r[s]]--}}function av(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){var s=plurality(n,t);if(s[0].score>e.length/2)return o=o.concat(s.reverse()),o.reverse();for(var a=s[s.length-1].score,l=s.length-1;l>-1&&s[l].score===a;l--)removeCandidate(n,t,s[l].film),o.push(s[l])}return o.reverse()}function avChanges(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){var s=plurality(n,t);if(s[0].score>e.length/2)return o;for(var a=s[s.length-1].score,l=[],i=0;i<e.length;i++)for(var f=0;f<s.length;f++)1===t[i][s[f].film]&&l.push(s[f].film);for(i=s.length-1;i>-1&&s[i].score===a;i--)removeCandidate(n,t,s[i].film);var c={};for(i=0;i<l.length;i++)for(var f=0;f<n.length;f++)1===t[i][n[f]]&&(c[l[i]]||(c[l[i]]={}),c[l[i]][n[f]]?c[l[i]][n[f]]++:c[l[i]][n[f]]=1);o.push(c)}return o}function coombs(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){var s=antiPlurality(n,t),a=plurality(n,t);if(a[0].score>e.length/2)return o=o.concat(a.reverse()),o.reverse();for(var l=s[s.length-1].score,i=s.length-1;i>-1&&s[i].score===l;i--)removeCandidate(n,t,s[i].film),o.push(s[i])}return o.reverse()}function baldwin(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;)for(var s=borda(n,t,r.length),a=s[s.length-1].score,l=s.length-1;l>-1&&s[l].score===a;l--)removeCandidate(n,t,s[l].film),o.push(s[l]);return o.reverse(),o}function baldwinChanges(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){for(var s={},a=borda(n,t,r.length),l=a[a.length-1].score,i=[],f=a.length-1;f>-1;f--)a[f].score===l?(i.push(a[f].film),removeCandidate(n,t,a[f].film)):(s[a[f].film]={},s[a[f].film][a[f].film]=a[f].score);if(0===n.length)return o;for(f=0;f<e.length;f++)for(var c=0;c<i.length;c++)for(var h=0;h<n.length;h++)e[f][n[h]]>e[f][i[c]]&&(s[i[c]]||(s[i[c]]={}),s[i[c]][n[h]]?s[i[c]][n[h]]++:s[i[c]][n[h]]=1);o.push(s)}return o}function nanson(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){for(var s=borda(n,t,r.length),a=0,l=0;l<s.length;l++)a+=s[l].score/s.length;for(l=s.length-1;l>-1&&s[l].score<=a;l--)removeCandidate(n,t,s[l].film),o.push(s[l])}return o.reverse()}function nansonChanges(r,e){"use strict";for(var n=r.slice(),t=JSON.parse(JSON.stringify(e)),o=[];n.length>0;){for(var s={},a=borda(n,t,r.length),l=0,i=0;i<a.length;i++)l+=a[i].score/a.length;var f=[];for(i=a.length-1;i>-1;i--)a[i].score<=l?(f.push(a[i].film),removeCandidate(n,t,a[i].film)):(s[a[i].film]={},s[a[i].film][a[i].film]=a[i].score);if(0===n.length)return o;for(i=0;i<e.length;i++)for(var c=0;c<f.length;c++)for(var h=0;h<n.length;h++)e[i][n[h]]>e[i][f[c]]&&(s[f[c]]||(s[f[c]]={}),s[f[c]][n[h]]?s[f[c]][n[h]]++:s[f[c]][n[h]]=1);o.push(s)}return o}